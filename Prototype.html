<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>The Mission Scroll</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Newsreader:ital,opsz,wght@0,6..72,200..800;1,6..72,200..800&amp;family=Noto+Sans:wght@400;500;700&amp;family=Inter:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet"/>
    
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#f59f0a",
                        "primary-dark": "#b45309",
                        "secondary": "#3b82f6",
                        "background-light": "#f8f7f5",
                        "background-dark": "#181511", 
                        "paper-dark": "#221c10",
                        "surface-dark": "#221c10",
                        "card-dark": "#27231b",
                        "border-dark": "#393328",
                        "text-muted": "#baaf9c",
                        "void": "#0a0a0a",
                    },
                    fontFamily: {
                        "newsreader": ["Newsreader", "serif"],
                        "noto": ["Noto Sans", "sans-serif"],
                        "inter": ["Inter", "sans-serif"],
                    },
                    borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "2xl": "1rem", "full": "9999px"},
                    backgroundImage: {
                        'grid-pattern': "linear-gradient(to right, #333 1px, transparent 1px), linear-gradient(to bottom, #333 1px, transparent 1px)",
                        'noise': "url(https://lh3.googleusercontent.com/aida-public/AB6AXuA7_wIU2jNK8WZENJhW2Syb5kEwTu3ScAmFZj8FOc30bn43br8AZPl6uPZSPr2lw6nvF1oSkgujyxUaLv2_stnikaflYurncZLx7pEGeGpZ64AH6czOdDhH-QyxPekZ_AWTtY5mPMqBmFWDdMNWbVUZw2gsR7zpRTsrMfI6QRpQupFTJ578sJg2vvoK5uSWfqKUr_LJKdSxqyhcVwOHwsLrO7RPqtaCDlmq1MqFNslzskLG21ad-pdOgBpRf3M7F0mg5UkxUVXtESA)"
                    }
                },
            },
        }
    </script>
    <style>
        .custom-scrollbar::-webkit-scrollbar { width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #181511; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #444; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #f59f0a; }
        .checkbox-wrapper input:checked + div { background-color: #f59f0a; border-color: #f59f0a; }
        .checkbox-wrapper input:checked + div span { display: block; }
        .hex-avatar { clip-path: polygon(50% 0, 100% 25%, 100% 75%, 50% 100%, 0 75%, 0 25%); }
        .glow-bar { box-shadow: 0 0 15px rgba(245, 159, 10, 0.4); }
        .glass-panel { background: rgba(20, 20, 20, 0.75); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); border-top: 1px solid rgba(255, 255, 255, 0.1); }
        .glow-text { text-shadow: 0 0 10px rgba(245, 159, 10, 0.5); }
        .node-glow-active { box-shadow: 0 0 0 4px rgba(245, 159, 10, 0.2), 0 0 20px rgba(245, 159, 10, 0.4); }
        .node-glow-completed { box-shadow: 0 0 10px rgba(245, 159, 10, 0.2); }
        @keyframes shimmer { 100% { transform: translateX(100%); } }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom, 20px); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/history@5/umd/history.development.js"></script>
    <script src="https://unpkg.com/react-router@6.3.0/umd/react-router.development.js"></script>
    <script src="https://unpkg.com/react-router-dom@6.3.0/umd/react-router-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { createRoot } = ReactDOM;
        const { MemoryRouter, Routes, Route, Link, useNavigate, useLocation } = ReactRouterDOM;

        // --- Screen 1: Mission Scroll ---
        const MissionScroll = () => {
            const navigate = useNavigate();
            const [checklist, setChecklist] = useState([
                { id: 1, text: "Initialize a Sphere 3D primitive", checked: true },
                { id: 2, text: "Equip the Move Brush (B-M-V)", checked: true },
                { id: 3, text: "Distort mesh to asymmetrical form", checked: false },
                { id: 4, text: "Save Project as .ZPR", checked: false },
            ]);

            const toggleCheck = (id) => {
                setChecklist(checklist.map(item => 
                    item.id === id ? { ...item, checked: !item.checked } : item
                ));
            };

            const progress = Math.round((checklist.filter(c => c.checked).length / checklist.length) * 100);

            return (
                <div className="bg-background-light dark:bg-background-dark min-h-screen flex flex-col font-newsreader text-[#e5e5e5] custom-scrollbar overflow-x-hidden">
                    <div className="flex-grow flex flex-col items-center w-full pb-28">
                        <div className="w-full max-w-[960px] px-4 sm:px-6 lg:px-8 py-8 flex flex-col gap-8">
                            <nav className="flex flex-wrap items-center gap-2 text-sm font-noto tracking-wide">
                                <Link to="/map" className="text-[#8a8175] hover:text-primary transition-colors">Chapter 2</Link>
                                <span className="material-symbols-outlined text-[#8a8175] text-xs">chevron_right</span>
                                <span className="text-primary font-medium">Mission 2-1</span>
                            </nav>
                            <header className="flex flex-col gap-2">
                                <h1 className="text-white text-5xl md:text-6xl font-medium tracking-tight leading-tight">The Shapeless Form</h1>
                                <div className="flex items-center gap-2 text-[#baaf9c] font-noto text-sm tracking-widest uppercase">
                                    <span className="material-symbols-outlined text-base">school</span>
                                    <span>Class: Vertex Manipulation</span>
                                </div>
                            </header>
                            <div className="text-[#dcd6ca] text-lg leading-relaxed max-w-3xl">
                                In this chapter, we delve into the primal art of digital sculpting, learning to manipulate the very fabric of virtual geometry to coax form from chaos. Your mission is to master the fundamental tools required to breathe life into the shapeless void.
                            </div>
                            <div className="relative w-full group">
                                <div className="relative rounded-lg p-1 bg-[#2a2620] border-2 border-[#3d362e] shadow-2xl">
                                    <div className="absolute -top-[2px] -left-[2px] w-6 h-6 border-t-2 border-l-2 border-primary rounded-tl-lg z-10"></div>
                                    <div className="absolute -top-[2px] -right-[2px] w-6 h-6 border-t-2 border-r-2 border-primary rounded-tr-lg z-10"></div>
                                    <div className="absolute -bottom-[2px] -left-[2px] w-6 h-6 border-b-2 border-l-2 border-primary rounded-bl-lg z-10"></div>
                                    <div className="absolute -bottom-[2px] -right-[2px] w-6 h-6 border-b-2 border-r-2 border-primary rounded-br-lg z-10"></div>
                                    <div className="relative flex items-center justify-center bg-black aspect-video rounded overflow-hidden cursor-pointer group-hover:opacity-95 transition-opacity bg-cover bg-center" style={{backgroundImage: 'linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url("https://lh3.googleusercontent.com/aida-public/AB6AXuCjmC6VXUieS4oU2EXFoiXjti5KRYp6-bzBLmi13cmslcA4LVUwVP4QVybMUddQov-IMK-DHVGkl2A0EzoGWCCZD7SyS1P5x3XkJrDwPSAudurpAyXG9K8ln2Mph-yuNKx1KfVTxIMaK3ws_9Wc0NGlIDK1g6LAUX3CoRdNufBGB3JGLou8kADXkTuG61M2kTAKtHWao3bOc5dNmEQ4rYCHyie9G9MsL6WS-_xlrAYL8_LjLQge0gSfveZLlMbe_Kq3DjPCqGabM-0")'}}>
                                        <button className="relative z-20 flex shrink-0 items-center justify-center rounded-full w-20 h-20 bg-primary/90 text-background-dark shadow-[0_0_30px_rgba(245,159,10,0.4)] hover:scale-105 hover:bg-primary transition-all duration-300">
                                            <span className="material-symbols-outlined text-4xl" style={{fontVariationSettings: "'FILL' 1"}}>play_arrow</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div className="grid grid-cols-1 lg:grid-cols-3 gap-8 mt-4">
                                <section className="lg:col-span-2 flex flex-col gap-4">
                                    <div className="flex items-center gap-3 border-b border-[#3d362e] pb-3">
                                        <span className="material-symbols-outlined text-primary text-2xl">auto_stories</span>
                                        <h2 className="text-white text-2xl font-bold tracking-tight">Scroll of Wisdom</h2>
                                    </div>
                                    <div className="bg-paper-dark rounded-lg border border-[#3d362e] p-6 lg:p-8 relative overflow-hidden">
                                        <div className="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/dark-leather.png')] opacity-20 pointer-events-none"></div>
                                        <div className="relative z-10 space-y-4">
                                            <p className="text-[#dcd6ca] text-lg leading-relaxed font-normal">
                                                To shape the formless requires vision. Understand the digital clay before you strike. This scroll contains the ancient knowledge of vertex manipulation.
                                            </p>
                                            <p className="text-[#baaf9c] text-base leading-relaxed">
                                                In the realm of ZBrush, the sphere is not merely a shape, but a universe of potential. By accessing the <span className="text-primary/90 font-medium">Move Brush</span>, one channels the energy of creation to pull mountains from plains. Keep your topology uniform, for chaos in the mesh leads to chaos in the mind.
                                            </p>
                                            <blockquote className="border-l-4 border-primary/40 pl-4 py-1 my-4 italic text-[#8a8175]">
                                                "A sculptor does not add to the clay, they reveal the truth hidden within." — Grandmaster Z
                                            </blockquote>
                                        </div>
                                    </div>
                                </section>
                                <aside className="lg:col-span-1 flex flex-col gap-4">
                                    <div className="flex items-center gap-3 border-b border-[#3d362e] pb-3">
                                        <span className="material-symbols-outlined text-primary text-2xl">swords</span>
                                        <h2 className="text-white text-2xl font-bold tracking-tight">The Trial</h2>
                                    </div>
                                    <div className="bg-[#1c1812] rounded-lg border-2 border-dashed border-primary/40 p-5 flex flex-col gap-4 shadow-lg shadow-black/20">
                                        <p className="text-sm font-noto text-[#8a8175] uppercase tracking-wider font-semibold">Objective: Deformation</p>
                                        <div className="flex flex-col gap-3">
                                            {checklist.map(item => (
                                                <label key={item.id} className="checkbox-wrapper flex items-start gap-3 cursor-pointer group">
                                                    <input 
                                                        className="peer sr-only" 
                                                        type="checkbox" 
                                                        checked={item.checked}
                                                        onChange={() => toggleCheck(item.id)}
                                                    />
                                                    <div className="w-6 h-6 rounded border border-[#5c5446] bg-[#12100d] flex items-center justify-center shrink-0 mt-0.5 group-hover:border-primary transition-colors">
                                                        <span className="material-symbols-outlined text-black text-sm hidden font-bold">check</span>
                                                    </div>
                                                    <span className={`text-[#dcd6ca] text-base group-hover:text-white transition-colors ${item.checked ? 'text-[#666] line-through decoration-primary/50' : ''}`}>{item.text}</span>
                                                </label>
                                            ))}
                                        </div>
                                    </div>
                                </aside>
                            </div>
                        </div>
                    </div>
                    <div className="fixed bottom-0 left-0 w-full z-50">
                        <div className="absolute bottom-full left-0 w-full h-12 bg-gradient-to-t from-background-dark to-transparent pointer-events-none"></div>
                        <div className="bg-[#12100e]/95 backdrop-blur-md border-t border-[#3d362e] px-6 py-4 flex justify-center items-center shadow-[0_-5px_20px_rgba(0,0,0,0.5)]">
                            <div className="w-full max-w-[960px] flex justify-between items-center gap-4">
                                <div className="hidden sm:flex flex-col">
                                    <span className="text-[#8a8175] text-xs font-noto uppercase tracking-widest">Progress</span>
                                    <div className="flex items-center gap-2">
                                        <div className="h-1.5 w-32 bg-[#3d362e] rounded-full overflow-hidden">
                                            <div className="h-full bg-primary transition-all duration-500" style={{width: `${progress}%`}}></div>
                                        </div>
                                        <span className="text-white text-sm font-bold">{progress}%</span>
                                    </div>
                                </div>
                                <button 
                                    onClick={() => navigate('/map')}
                                    className="flex-1 sm:flex-none bg-primary hover:bg-[#ffb02e] text-[#181511] font-bold text-lg py-3 px-8 rounded-lg shadow-[0_0_20px_rgba(245,159,10,0.3)] hover:shadow-[0_0_30px_rgba(245,159,10,0.5)] transition-all flex items-center justify-center gap-2 group">
                                    <span>Complete Ritual</span>
                                    <span className="bg-black/10 px-2 py-0.5 rounded text-sm font-noto font-semibold group-hover:bg-black/20">+250 XP</span>
                                    <span className="material-symbols-outlined group-hover:translate-x-1 transition-transform">arrow_forward</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // --- Screen 2: Guild Hall (Dashboard) ---
        const GuildHall = () => {
            const navigate = useNavigate();
            const [isMenuOpen, setIsMenuOpen] = useState(false);

            return (
                <div className="bg-background-dark text-white font-inter overflow-hidden selection:bg-primary selection:text-black min-h-screen">
                    <div className="flex h-screen w-full">
                        {/* Desktop Sidebar */}
                        <aside className="w-72 hidden lg:flex flex-col border-r border-border-dark bg-[#1c1914]">
                            <div className="h-[89px] px-6 border-b border-border-dark flex items-center gap-3">
                                <div className="size-8 text-primary">
                                    <span className="material-symbols-outlined !text-3xl">token</span>
                                </div>
                                <h1 className="text-xl font-bold tracking-tight text-white">The Sculptor's Saga</h1>
                            </div>
                            <nav className="flex-1 flex flex-col gap-2 p-4">
                                <Link to="/dashboard" className="flex items-center gap-4 px-4 py-3 rounded-lg bg-primary/10 border border-primary/20 group transition-all">
                                    <span className="material-symbols-outlined text-primary" style={{fontVariationSettings: "'FILL' 1"}}>castle</span>
                                    <span className="text-primary font-bold text-sm">Guild Hall</span>
                                </Link>
                                <Link to="/map" className="flex items-center gap-4 px-4 py-3 rounded-lg hover:bg-white/5 transition-colors text-text-muted hover:text-white">
                                    <span className="material-symbols-outlined" style={{fontVariationSettings: "'FILL' 0"}}>map</span>
                                    <span className="font-medium text-sm">World Map</span>
                                </Link>
                            </nav>
                            <div className="p-4 border-t border-border-dark">
                                <button className="flex w-full items-center gap-3 rounded-lg p-2 hover:bg-white/5 transition-colors">
                                    <div className="size-8 rounded-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center border border-gray-600">
                                        <span className="material-symbols-outlined text-xs text-white">settings</span>
                                    </div>
                                    <div className="flex flex-col items-start">
                                        <span className="text-sm font-medium text-white">Settings</span>
                                    </div>
                                </button>
                            </div>
                        </aside>

                        <main className="flex-1 flex flex-col h-full relative overflow-y-auto bg-background-dark">
                            {/* Mobile Header */}
                            <div className="lg:hidden flex items-center justify-between p-4 border-b border-border-dark bg-[#1c1914] sticky top-0 z-20">
                                <div className="flex items-center gap-2 text-white">
                                    <span className="material-symbols-outlined text-primary">token</span>
                                    <h2 className="text-lg font-bold">The Guild Hall</h2>
                                </div>
                                <button onClick={() => setIsMenuOpen(!isMenuOpen)} className="text-white p-2">
                                    <span className="material-symbols-outlined">menu</span>
                                </button>
                            </div>
                            {/* Desktop Header */}
                            <header className="w-full h-[89px] px-6 lg:px-12 hidden lg:flex items-center justify-between gap-6 border-b border-border-dark bg-[#181511]/95 backdrop-blur-sm sticky top-0 z-10">
                                <div className="flex flex-col justify-center">
                                    <h2 className="text-2xl font-bold text-white tracking-tight">Dashboard</h2>
                                    <p className="text-sm text-text-muted">Welcome back to the forge, Novice.</p>
                                </div>
                                <div className="flex items-center gap-6 self-center">
                                    <div className="flex items-center gap-2 px-4 py-2 bg-secondary/10 border border-secondary/30 rounded-full">
                                        <span className="material-symbols-outlined text-blue-400 text-xl" style={{fontVariationSettings: "'FILL' 1"}}>local_fire_department</span>
                                        <span className="text-blue-100 text-sm font-bold">5 Day Streak</span>
                                    </div>
                                    <div className="flex items-center gap-3">
                                        <div className="relative group cursor-pointer">
                                            <div className="absolute -inset-1 bg-gradient-to-r from-yellow-600 via-primary to-yellow-600 rounded-full opacity-75 blur group-hover:opacity-100 transition duration-1000 group-hover:duration-200"></div>
                                            <div className="relative size-12 hex-avatar bg-gray-800 border-2 border-primary z-10 overflow-hidden">
                                                <img alt="Profile avatar" className="w-full h-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuALH76sJHTKGe7c5HsW83pJTLXrWup44fjbCCtt_sl_tmDx0yHBFPXPlBERQiods16e8GCoe9fT9fajZdcruPjgZTem1MRmAA8_ZNqHl2W05_-P-RoFnqYoQr88BCqUnf8VV3Cioh6459HJCRjJ87gCvi0RHh3TaAhD9yn1lsr52thvqhtbT6l2W2DyYxtd9-TcbbbGvASNVlrPP_USSy6pNakkW29IYD5CtH2nxQrWgtDG4kaU5jJJyLxacWv51XjRMuS0LJ2yLZs"/>
                                            </div>
                                            <div className="absolute -bottom-1 -right-1 bg-background-dark border border-primary rounded-full size-5 flex items-center justify-center z-20">
                                                <span className="text-[10px] font-bold text-primary">3</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </header>

                            <div className="flex-1 w-full max-w-5xl mx-auto p-6 lg:p-12 flex flex-col gap-10">
                                <section className="flex flex-col gap-4 animate-fade-in-up">
                                    <div className="flex justify-between items-end">
                                        <div>
                                            <p className="text-primary font-bold tracking-wider text-xs uppercase mb-1">Current Rank</p>
                                            <h3 className="text-2xl font-bold text-white">Novice Sculptor</h3>
                                        </div>
                                        <p className="text-text-muted text-sm font-medium"><span className="text-white">1,250</span> / 2,000 XP</p>
                                    </div>
                                    <div className="relative h-6 w-full bg-[#322d24] rounded-full overflow-hidden shadow-inner border border-white/5">
                                        <div className="absolute top-0 left-0 h-full bg-gradient-to-r from-orange-800 via-yellow-600 to-primary glow-bar transition-all duration-1000 ease-out rounded-full" style={{width: "60%"}}>
                                            <div className="absolute top-0 right-0 bottom-0 left-0 bg-gradient-to-r from-transparent via-white/20 to-transparent w-full -translate-x-full animate-[shimmer_2s_infinite]"></div>
                                        </div>
                                    </div>
                                    <div className="flex justify-between text-xs text-text-muted">
                                        <span>Level 3</span>
                                        <span>Level 4</span>
                                    </div>
                                </section>

                                <section className="flex flex-col gap-6">
                                    <div className="flex items-center justify-between">
                                        <h3 className="text-lg font-semibold text-white flex items-center gap-2">
                                            <span className="material-symbols-outlined text-primary">school</span>
                                            Next Lesson
                                        </h3>
                                    </div>
                                    <div className="group relative w-full overflow-hidden rounded-xl border border-[#393328] bg-card-dark shadow-2xl transition-all hover:border-primary/40 hover:shadow-[0_0_20px_rgba(245,159,10,0.1)]">
                                        <div className="absolute inset-0 bg-noise opacity-20 pointer-events-none"></div>
                                        <div className="absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-1 transition-opacity"></div>
                                        <div className="relative p-6 md:p-8 flex flex-col gap-6">
                                            <div className="flex-1 flex flex-col gap-2">
                                                <div className="flex justify-between items-start">
                                                    <div>
                                                        <p className="text-primary font-bold tracking-wider text-xs uppercase mb-2">Module 2 • Sculpting Basics</p>
                                                        <h4 className="text-3xl font-bold text-white group-hover:text-primary transition-colors">Understanding Brushes</h4>
                                                    </div>
                                                </div>
                                                <p className="text-text-muted text-base leading-relaxed max-w-2xl mt-2">
                                                    Deep dive into the core brush set. Learn the difference between the Standard, Clay Buildup, and Move brushes, and how to control falloff for organic shapes.
                                                </p>
                                                <div className="mt-6">
                                                    <div className="flex justify-between text-xs text-text-muted mb-2">
                                                        <span>Progress</span>
                                                        <span>3/5 Completed</span>
                                                    </div>
                                                    <div className="h-2 w-full bg-[#322d24] rounded-full overflow-hidden">
                                                        <div className="h-full bg-primary w-[60%]"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div className="w-full mt-4 flex justify-end">
                                                <button onClick={() => navigate('/mission')} className="w-full md:w-auto min-w-[160px] cursor-pointer relative overflow-hidden rounded-lg bg-primary hover:bg-primary-dark text-black font-bold text-sm px-6 py-3 transition-all transform active:scale-95 shadow-[0_0_15px_rgba(245,159,10,0.3)] hover:shadow-[0_0_20px_rgba(245,159,10,0.6)] flex items-center justify-center gap-2 group/btn">
                                                    <span>Continue Lesson</span>
                                                    <span className="material-symbols-outlined text-lg transition-transform group-hover/btn:translate-x-1">play_arrow</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </section>

                                <section className="flex flex-col gap-6">
                                    <div className="flex items-center justify-between">
                                        <h3 className="text-lg font-semibold text-white flex items-center gap-2">
                                            <span className="material-symbols-outlined text-primary">target</span>
                                            Daily Bounty
                                        </h3>
                                        <button className="text-text-muted hover:text-white transition-colors p-1" title="Refresh Bounty">
                                            <span className="material-symbols-outlined text-xl">refresh</span>
                                        </button>
                                    </div>
                                    <div className="w-full rounded-xl border border-[#393328] bg-card-dark p-6 flex flex-col md:flex-row items-center justify-between gap-6 shadow-lg hover:border-primary/40 transition-all group">
                                        <div className="flex items-center gap-5">
                                            <div className="size-14 rounded-full bg-primary/10 border border-primary/20 flex items-center justify-center text-primary shrink-0 group-hover:scale-110 transition-transform">
                                                <span className="material-symbols-outlined text-2xl">swords</span>
                                            </div>
                                            <div>
                                                <h4 className="text-lg font-bold text-white">The Goblin's Request</h4>
                                                <p className="text-text-muted text-sm mt-1 max-w-md">Sculpt a rough goblin bust within 30 minutes. Focus on expressive features.</p>
                                                <div className="flex items-center gap-3 mt-3 text-xs font-bold uppercase tracking-wider">
                                                    <span className="text-primary">Reward: 300 XP</span>
                                                </div>
                                            </div>
                                        </div>
                                        <button className="w-full md:w-auto px-6 py-3 rounded-lg bg-[#322d24] hover:bg-[#3d362b] text-white font-semibold text-sm transition-colors border border-white/5 shadow-md">
                                            Claim Bounty
                                        </button>
                                    </div>
                                </section>
                            </div>

                            <nav className="lg:hidden sticky bottom-0 w-full bg-[#1c1914] border-t border-border-dark flex justify-around p-2 z-30 pb-safe">
                                <Link to="/dashboard" className="flex flex-col items-center gap-1 p-2 text-primary">
                                    <span className="material-symbols-outlined" style={{fontVariationSettings: "'FILL' 1"}}>castle</span>
                                    <span className="text-[10px] font-medium">Guild</span>
                                </Link>
                                <Link to="/map" className="flex flex-col items-center gap-1 p-2 text-text-muted">
                                    <span className="material-symbols-outlined">map</span>
                                    <span className="text-[10px] font-medium">Map</span>
                                </Link>
                            </nav>
                        </main>
                    </div>
                </div>
            );
        };

        // --- Screen 3: Campaign Map ---
        const CampaignMap = () => {
            const navigate = useNavigate();
            return (
                <div className="bg-void text-white font-inter overflow-hidden h-screen flex flex-col antialiased selection:bg-primary/30">
                    <div className="fixed inset-0 z-0 pointer-events-none opacity-[0.05]" style={{backgroundSize: "40px 40px", backgroundImage: "linear-gradient(to right, #ffffff 1px, transparent 1px), linear-gradient(to bottom, #ffffff 1px, transparent 1px)"}}></div>
                    
                    <header className="relative z-20 flex items-center justify-between border-b border-[#333]/50 bg-void/80 backdrop-blur-sm px-6 py-4">
                        <Link to="/dashboard" className="flex items-center gap-3">
                            <div className="size-8 text-primary flex items-center justify-center rounded-lg bg-primary/10">
                                <span className="material-symbols-outlined text-2xl">hexagon</span>
                            </div>
                        </Link>
                        <div className="flex items-center gap-4">
                            <div className="flex items-center justify-center bg-[#1a1a1a] text-gray-400 hover:text-white transition-colors size-9 rounded-full cursor-pointer border border-[#333]">
                                <span className="material-symbols-outlined text-[20px]">settings</span>
                            </div>
                            <div onClick={() => navigate('/dashboard')} className="size-9 rounded-full bg-cover bg-center border border-[#333] cursor-pointer" style={{backgroundImage: "url('https://lh3.googleusercontent.com/aida-public/AB6AXuAOpeCKZPkbM0NelbbwYgpV3i_H3udPI26-CAGvopAH8JBWL6IAX9BC-EF0xPT_-LnMZUT5Qf4IHN5pDCMZQ5k7Vm8YfinpC3qEy6wNXLmjCqbVRmpaXg6SvHlW_YG0zxSdazZGPvqwJRQ_HGVwU09G-1BKyKDv_qNvGu3q8y-Ke7ISR9Pqt5Alc_C961wogWc2ofLozBb4aYMJpMqhg31h1GvYHGQ4qx-ha8T9F11zh01Y3wYWyL3RoLHtlzTRUe0z3BpmanQ72rw')"}}></div>
                        </div>
                    </header>

                    <main className="relative z-10 flex-1 overflow-y-auto pb-[400px]">
                        <div className="max-w-md mx-auto relative flex flex-col items-center py-12 px-4">
                            <svg className="absolute top-0 left-1/2 -translate-x-1/2 h-full w-24 pointer-events-none z-0" preserveAspectRatio="none" viewBox="0 0 100 800">
                                <path d="M50,0 L50,150 C50,200 20,220 20,270 C20,320 50,350 50,400 L50,550" fill="none" stroke="#f59f0a" strokeOpacity="0.1" strokeWidth="4"></path>
                                <path d="M50,0 L50,150 C50,200 20,220 20,270 C20,320 50,350 50,400 L50,550" fill="none" stroke="#f59f0a" strokeDasharray="8 6" strokeLinecap="round" strokeOpacity="0.6" strokeWidth="2"></path>
                            </svg>

                            {/* Completed Node */}
                            <div className="relative z-10 flex flex-col items-center mb-24 group cursor-pointer translate-x-0">
                                <div className="relative flex items-center justify-center size-16 rounded-full bg-[#1a1814] border-2 border-primary node-glow-completed transition-transform transform group-hover:scale-110">
                                    <span className="material-symbols-outlined text-3xl text-primary font-bold">check</span>
                                </div>
                                <div className="mt-3 flex flex-col items-center">
                                    <span className="px-3 py-1 rounded-full bg-primary/10 border border-primary/20 text-primary text-xs font-bold uppercase tracking-wider mb-1">Completed</span>
                                    <span className="text-gray-300 font-semibold text-sm">Ch 1: Awakening</span>
                                </div>
                            </div>

                            {/* Current Node (Active) */}
                            <div onClick={() => navigate('/mission')} className="relative z-10 flex flex-col items-center mb-24 -translate-x-[30px] cursor-pointer">
                                <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 size-28 rounded-full bg-primary/10 animate-ping opacity-75"></div>
                                <div className="relative flex items-center justify-center size-24 rounded-full bg-gradient-to-br from-[#2a2418] to-[#1a1814] border-2 border-primary node-glow-active">
                                    <span className="material-symbols-outlined text-5xl text-primary animate-pulse">category</span>
                                </div>
                                <div className="mt-4 flex flex-col items-center">
                                    <div className="flex items-center gap-1.5 px-3 py-1 rounded-full bg-primary text-background-dark text-xs font-bold uppercase tracking-wider mb-1 shadow-lg shadow-primary/20">
                                        <span className="material-symbols-outlined text-[14px]">play_arrow</span>
                                        Current
                                    </div>
                                    <span className="text-white font-bold text-lg glow-text">Ch 2: Primordial Clay</span>
                                </div>
                            </div>

                            {/* Locked Node */}
                            <div className="relative z-10 flex flex-col items-center mb-12 translate-x-0 opacity-60 grayscale">
                                <div className="relative flex items-center justify-center size-16 rounded-full bg-[#151515] border-2 border-[#333]">
                                    <span className="material-symbols-outlined text-2xl text-gray-500">lock</span>
                                </div>
                                <div className="mt-3 flex flex-col items-center">
                                    <span className="px-3 py-1 rounded-full bg-[#222] border border-[#333] text-gray-400 text-xs font-bold uppercase tracking-wider mb-1">Locked</span>
                                    <span className="text-gray-500 font-semibold text-sm">Ch 3: Eternal Forge</span>
                                </div>
                            </div>

                            {/* Future Path */}
                            <div className="relative z-10 flex flex-col items-center translate-x-0 opacity-30 grayscale blur-[1px]">
                                <div className="size-3 rounded-full bg-[#333]"></div>
                                <div className="mt-8 size-2 rounded-full bg-[#222]"></div>
                                <div className="mt-8 size-1 rounded-full bg-[#111]"></div>
                            </div>
                        </div>
                    </main>

                    {/* Bottom Drawer */}
                    <div className="fixed bottom-0 left-0 right-0 z-40 flex justify-center pointer-events-none">
                        <div className="glass-panel w-full max-w-2xl rounded-t-2xl p-1 pointer-events-auto shadow-2xl shadow-black">
                            <div className="w-full flex justify-center pt-3 pb-1 cursor-grab active:cursor-grabbing">
                                <div className="w-12 h-1.5 rounded-full bg-gray-600/50"></div>
                            </div>
                            <div className="px-6 pb-8 pt-2">
                                <div className="flex items-start justify-between mb-6">
                                    <div>
                                        <h3 className="text-primary text-sm font-bold uppercase tracking-widest mb-1">Current Chapter</h3>
                                        <h2 className="text-white text-2xl font-bold leading-tight">Primordial Clay</h2>
                                        <p className="text-gray-400 text-sm mt-1">Learn the basics of digital sculpting forms.</p>
                                    </div>
                                    <div className="size-12 rounded-lg bg-[#2a2418] border border-primary/20 flex items-center justify-center text-primary">
                                        <span className="material-symbols-outlined text-2xl">category</span>
                                    </div>
                                </div>
                                <div className="space-y-3 mb-8">
                                    <h4 className="text-gray-300 text-xs font-bold uppercase tracking-wider mb-2">Objectives</h4>
                                    <div onClick={() => navigate('/mission')} className="flex items-center gap-3 p-3 rounded-lg bg-[#1a1a1a]/50 border border-[#333] hover:border-primary/30 transition-colors cursor-pointer group">
                                        <div className="h-5 w-5 flex items-center justify-center rounded border border-primary bg-primary text-black">
                                            <span className="material-symbols-outlined text-xs font-bold">check</span>
                                        </div>
                                        <span className="text-gray-300 group-hover:text-white transition-colors text-sm font-medium line-through opacity-60">Mastering the Move Brush</span>
                                    </div>
                                    <div onClick={() => navigate('/mission')} className="flex items-center gap-3 p-3 rounded-lg bg-[#1a1a1a]/50 border border-[#333] hover:border-primary/30 transition-colors cursor-pointer group">
                                        <div className="h-5 w-5 rounded border border-gray-500 bg-transparent group-hover:border-primary transition-colors"></div>
                                        <span className="text-white text-sm font-medium">Understanding Dynamesh</span>
                                    </div>
                                    <div onClick={() => navigate('/mission')} className="flex items-center gap-3 p-3 rounded-lg bg-[#1a1a1a]/50 border border-[#333] hover:border-primary/30 transition-colors cursor-pointer group">
                                        <div className="h-5 w-5 rounded border border-gray-500 bg-transparent group-hover:border-primary transition-colors"></div>
                                        <span className="text-white text-sm font-medium">Blocking out major forms</span>
                                    </div>
                                </div>
                                <button onClick={() => navigate('/mission')} className="w-full py-3.5 px-4 bg-primary text-black font-bold text-base rounded-lg shadow-lg shadow-primary/20 hover:bg-primary-dark transition-all flex items-center justify-center gap-2">
                                    <span className="material-symbols-outlined">play_arrow</span>
                                    Start Mission
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            return (
                <MemoryRouter initialEntries={['/dashboard']}>
                    <Routes>
                        <Route path="/dashboard" element={<GuildHall />} />
                        <Route path="/map" element={<CampaignMap />} />
                        <Route path="/mission" element={<MissionScroll />} />
                    </Routes>
                </MemoryRouter>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>